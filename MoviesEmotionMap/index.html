<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="HandheldFriendly" content="true">
    <script src="https://jsuites.net/v4/jsuites.js"></script>
<script src="https://jsuites.net/v4/jsuites.webcomponents.js"></script>
<link rel="stylesheet" href="https://jsuites.net/v4/jsuites.css" type="text/css" />
 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="design.css">
    <link rel = "icon" href = 
    "minlogo.PNG" 
            type = "image/x-icon">

        </head>
    <link rel="stylesheet" href="MoviesEmotionMap.js">

<body class="background">
    <img src="logo.PNG" class="img"">
    <button class="aboutbutton" id="about" onclick = "func();" >About</button>
    <button class="helpbutton">Help</button>
    <div class="alert" id="alert">
        <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
        <strong></strong><p class = "adress">ABOUT</p>
        <div class = "containt">   
    <p>The map includes emotions of movies. </p>
        <p>Each movie is dominating emotions represented by a glyph, as describe below.The emotions represent users reviews of iMDB web site. The map shows only movies from year 2003 to 2014 only.</p><p>You can view the glyph legend at any time on the left hand menu. Each emotion is represented by a color according to the glyph example.</p> 
        <p class="graph">Movie Glyph Legend:</p>
        </div>
        <img src="emotions.PNG" class="emotions" alt="Trulli" width="500" height="333">
    </div>

  <div class="numbers"> 
    <p class="number">77,4367</p>
    <p class="total">Total movies on screen</p>
</div>
    <div class="features">
    <p class="filters">Filters:</p>
    <p class="rating">Rating</p>
    <div class="wrapper">
        <custom-slider min="0" max="100" value="50" ></custom-slider>
      </div>
    <p class="author">Author</p>
    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">

    <p class="date" >Date</p>
    <jsuites-calendar class="calendar" value="2021-03-07"></jsuites-calendar>
</div>
<script>     function func(){
    var x = document.getElementById("alert");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
  let stylesheetText = `
  #slider-container {
      --value : 0 ;
      --slider-track-color : #B0EFEF45 ;
      --slider-thumb-color : #fff ;
      --slider-fill-color  : #31D3C6 ;
      --slider-fill2-color : #00A2BB ;
  
      width : 100% ;
      height: 1rem ;
      display: flex ;
      align-items: center ;
      justify-content: center ;
      padding: 0 ;
      margin: 0 ;
  
      animation: color-cycle 1s infinite alternate linear;
  }
  
  @keyframes color-cycle {
      0% {
          --slider-fill-color  : #31D3C6 ;
      }
      100% {
          --slider-fill-color : #00A2BB ;
      }
  }
  
  #slider {
      -webkit-appearance: none;
      appearance: none;
  
      height: 1rem ;
      width: 100% ;
      margin : 0 ;
      padding: 0 ;
  
      background-color: #00000000 ;
      outline: none ;
      z-index: 99 ;
  }
  
  #slider-track {
      position: absolute ;
      top: calc(50% - 0.25rem);
      left: 0 ;
      width: 100% ;
      height: 0.5rem ;
      border-radius: 0.25rem ;
      background-color: var(--slider-track-color) ;
      overflow: hidden ;
  }
  
  #slider-track::before {
      position: absolute ;
      content: "" ;
      left: calc(-100% + 1.5rem) ;
      top : 0 ;
      width : calc(100% - 1rem) ;
      height: 100% ;
      background-color: var(--slider-fill-color) ;
      transition: background-color 300ms ease-out ;
      transform-origin: 100% 0%;
      transform: translateX(calc( var(--value) * 100% )) scaleX(1.2);
  }
  
  #slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width : 1rem ;
      height: 1rem ;
      border-radius: 50% ;
      background-color: var(--slider-thumb-color) ;
      cursor: pointer ;
      z-index: 99 ;
      border: 2px solid var(--slider-fill-color) ;
      transition: border-color 300ms ease-out ;
  }
  
  #value {
      position: absolute ;
      bottom: calc(100% + 0.5rem) ;
      left: calc( var(--value) * calc(100% - 1rem) - 0.8rem) ;
      min-width: 3ch ;
      border-radius: 4px ;
      pointer-events: none ;
  
      padding: 0.5rem ;
      display: flex ;
      align-items: center ;
      justify-content: center ;
  
      color: #FFF ;
      background-color: var(--slider-fill-color);
      opacity: 0 ;
  
      transition: left 300ms ease-out , opacity 300ms 300ms ease-out , background-color 300ms ease-out ;
  }
  
  #value::before {
      position: absolute ;
      content: "" ;
      top: 100% ;
      left: 50% ;
      width: 1rem ;
      height: 1rem ;
      border-radius: 2px ;
      background-color: inherit ;
      transform: translate(-50%,-80%) rotate(45deg);
      z-index: -1 ;
  }
  
  #slider-container:hover  #value {
      opacity: 1 ;
  } 
  ` ;
  
  class customSlider extends HTMLElement {
      constructor(){
          super();
          this.value = parseFloat(this.getAttribute("value")) || 0;
          this.min   = parseFloat(this.getAttribute("min"))   || 0;
          this.max   = parseFloat(this.getAttribute("max"))   || 100;
          this.step  = parseFloat(this.getAttribute("step"))  || 1;
  
          this.style.minWidth = "12rem" ;
          this.style.minHeight = "1rem" ;
          this.style.position = "relative" ;
  
          // Slider Element
          this.root = this.attachShadow({mode:"open"}) ;
  
          // Functionality
          this.dragging = false ;
  
          this.create();
          this.update();
      }
  
      create(){
          let slider   = document.createElement("input") ;
          let sliderContainer = document.createElement("div");
          let sliderTrack = document.createElement("div");
          let value = document.createElement("div");
  
          // let style = document.createElement("link");
          // style.rel = "stylesheet" ;
          // style.href = "/src/custom-slider-style.css" ;
  
          let style = document.createElement("style") ;
          style.innerHTML = stylesheetText ;
  
          // set properties
          slider.type = "range" ;
          slider.id = "slider" ;
          slider.min = this.min ;
          slider.max = this.max ;
          slider.step = this.step ;
          slider.value = this.value ;
  
          // add ids
          sliderContainer.id = "slider-container" ;
          sliderTrack.id = "slider-track" ;
          value.id = "value" ;
  
          // add event listeners
          slider.addEventListener("input",this.update.bind(this));
  
          // Appened Elements
          sliderContainer.appendChild(slider);
          sliderContainer.appendChild(value);
          sliderContainer.appendChild(sliderTrack);
          this.root.appendChild(style);
          this.root.appendChild(sliderContainer);
      }
  
      update(){
          let track  = this.root.getElementById("slider-container");
          let slider = this.root.getElementById("slider");
          let value = this.root.getElementById("value");
          let valuePercentage = slider.value / (this.max-this.min) ;
          value.innerText = slider.value ;
          track.style.setProperty("--value",valuePercentage);
      }
  
  
  }
  
  customElements.define('custom-slider', customSlider );
  
  
  document.querySelector('jsuites-calendar').addEventListener('onchange', function(e) {
      console.log('New value: ' + e.target.value);
  });
  document.querySelector('jsuites-calendar').addEventListener('onclose', function(e) {
      console.log('Calendar is closed');
  });</script>
</body>
</html>